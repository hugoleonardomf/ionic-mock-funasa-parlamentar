<ion-header>
  <ion-navbar color="funasa">
    <ion-title>{{pageOrigem == 'cidadao' ? 'Pesquisar Emendas Parlamentares' : 'Pesquisa Avançada'}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <ion-list>
    <ion-grid no-padding style='padding-top:8px;'>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>UF</ion-label>
            <ion-select [(ngModel)]="ufSelected" (ionChange)="onSelectUf($event)" [selectOptions]="{ title: 'Selecione uma UF' }">
              <ion-option *ngFor="let item of ufLista" [value]="item.idEstado">{{item.siglaUF}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label stacked>Municipio</ion-label>
            <ion-select [(ngModel)]="municipioSelected" (ionChange)="onSelectMunicipio($event)" [selectOptions]="{ title: 'Selecione um Município' }"
              [disabled]="!municipioLista">
              <ion-option *ngFor="let item of municipioLista" [value]="item.identificadorMunicipio">{{item.nomeMunicipio}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item padding-right>
            <ion-label stacked>Ano</ion-label>
            <ion-select [(ngModel)]="ano" [selectOptions]="{ title: 'Selecione um Ano' }">
              <ion-option value="2018">2018</ion-option>
              <ion-option value="2017">2017</ion-option>
              <ion-option value="2016">2016</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>Partido</ion-label>
            <ion-select [(ngModel)]="partidoSelected" (ionChange)="onSelectPartido($event)" [selectOptions]="{ title: 'Selecione um Partido' }">
              <ion-option *ngFor="let item of partidoLista" [value]="item.siglaPartido">{{item.siglaPartido}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col col-9>
          <ion-item padding-right>
            <ion-label stacked>Parlamentar</ion-label>
            <ion-select [(ngModel)]="parlamentarSelected" (ionChange)="onSelectParlamentar($event)" [selectOptions]="{ title: 'Selecione um Parlamentar' }"
              [disabled]="!parlamentarLista">
              <ion-option *ngFor="let item of parlamentarLista" [value]="item.nomeParlamentar">{{item.nomeParlamentar}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>Programa (SICONV)</ion-label>
            <ion-select [(ngModel)]="programaSelected" (ionChange)="onSelectPrograma($event)" [selectOptions]="{ title: 'Selecione um Programa (SICONV)' }">
              <ion-option *ngFor="let item of programaLista" [value]="item.codigoPrograma">{{item.descricao}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col col-4>
          <ion-item padding-right>
            <ion-label stacked>Situação (SICONV)</ion-label>
            <ion-select [(ngModel)]="situacaoSelected" (ionChange)="onSelectSituacao($event)" [selectOptions]="{ title: 'Selecione uma Situação (SICONV)' }">
              <ion-option *ngFor="let item of situacaoLista" [value]="item.identificadorSituacao">{{item.descricao}}</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-item padding-right>
      <ion-label stacked>Nº da Emenda</ion-label>
      <ion-input type="text" [(ngModel)]="nuEmendaSelected" placeholder="Ex.: 999999"></ion-input>
    </ion-item>
    <ion-item padding-right>
      <ion-label stacked>Nº do Instrumento</ion-label>
      <ion-input type="text" [(ngModel)]="nuInstrumentoSelected" placeholder="Ex.: XX 1234"></ion-input>
    </ion-item>
    <ion-item padding-right>
      <ion-label stacked>Nº da Proposta</ion-label>
      <ion-input type="text" [(ngModel)]="nuPropostaSelected" placeholder="Ex.: 999999/2018"></ion-input>
    </ion-item>

  </ion-list>

  <div text-center margin>
    <button ion-button icon-left round (click)="pesquisar()" margin>
      Aplicar Filtros
    </button>
  </div>

</ion-content>

<ion-footer *ngIf="userProvider.getUserInfo()">
  <ion-toolbar [color]="isAndroid ? 'royal' : 'light'" class="toolbar-buttons-page">
    <ion-item no-lines [color]="isAndroid ? 'royal' : 'light'">
      <ion-avatar item-start>
        <img src="assets/imgs/deputado.png">
      </ion-avatar>
      <h2>{{userProvider.getUserInfo().nome}}</h2>
      <p>{{userProvider.getUserInfo().cargo}}</p>
      <h2 item-end>{{userProvider.getUserInfo().partido}}</h2>
    </ion-item>
  </ion-toolbar>
</ion-footer>
